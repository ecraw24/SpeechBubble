<!DOCTYPE html>
<head>
  <title>Home</title>
  <link
    rel="shortcut icon"
    href="{{ url_for('static', filename='Speech-Bubble-Icons.png') }}"
  />
  <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}" />
  <script>
    // Only run what comes next *after* the page has loaded
    addEventListener("DOMContentLoaded", function() {
      // Grab all of the elements with a class of command
      // (which all of the buttons we just created have)
      var commandButtons = document.querySelectorAll(".button-15");
      for (var i=0, l=commandButtons.length; i<l; i++) {
        var button = commandButtons[i];
        // For each button, listen for the "click" event
        button.addEventListener("click", function(e) {
          // When a click happens, stop the button
          // from submitting our form (if we have one)
          e.preventDefault();
    
          var clickedButton = e.target;
          var command = clickedButton.value;
    
          // Now we need to send the data to our server
          // without reloading the page - this is the domain of
          // AJAX (Asynchronous JavaScript And XML)
          // We will create a new request object
          // and set up a handler for the response
          var request = new XMLHttpRequest();
          // We point the request at the appropriate command
          request.open("GET", "/" + command, true);
          // and then we send it off
          request.send();
          console.log('js request send')
        });
      }
    }, true);
    </script>
</head>

<body>
  <img src="{{ url_for('static', filename='Speech-Bubble-Icons.png') }}" class="icon" />
  <h3>Speech Bubble</h3>
  <div class="grid-container">
    {% for i in range(0, length-1) %}
        {% if result[i] != '' %}
            <form class="speech">
              <button type="submit" class="button-15" value="{{result[i]}}">{{result[i]}}</button>
            </form>
        {% endif %}
    {% endfor %}
  </div>
</body>